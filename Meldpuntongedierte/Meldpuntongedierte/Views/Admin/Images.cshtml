@using Meldpunt.Models;
@using Meldpunt.Utils;
@model IEnumerable<ImageModel>
@{
  /**/

  ViewBag.Title = "Admin";
  var locations = ViewBag.Locations;
  Layout = "~/Views/Shared/_Admin.cshtml";
}
<h1>Beheer afbeeldingen</h1>

<form method="post" class="imageUploadForm" enctype="multipart/form-data">
  <div class="form-group">
    <div class="custom-file">
      <input type="file" class="custom-file-input" id="uploadImage" required>
      <label class="custom-file-label" for="uploadImage">Upload nieuwe afbeelding...</label>
      @*<div class="invalid-feedback">Example invalid custom file feedback</div>*@
    </div>
    <img id="imagePreview" class="imagePreview float-right" src="~/Images/admin/upload_image.png" alt="upload image" />
  </div>
  <div class="form-group">
    <button class="btn btn-primary" type="submit">Upload</button>
  </div>
</form>

<div class="list-item list-item-header">
  <div class="title">Naam</div>
  <div class="url">Afbeelding</div>
</div>

@foreach (ImageModel p in Model.OrderBy(i=> i.Name))
{
  @pageItem(p);
}

@helper pageItem(ImageModel image)
{
  <div class="list-item">
    <div class="title">@image.Name</div>
    <div class="url"><img src="/getimage?name=@image.Name&width=80&height=45" /></div>
  </div> 
}
