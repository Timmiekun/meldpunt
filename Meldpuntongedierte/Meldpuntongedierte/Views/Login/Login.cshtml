@using Meldpunt.Models;
@using Meldpunt.Utils;
@model PageModel
@{
  ViewBag.Title = "Login";
  List<PageModel> subNav = ViewBag.SubNav as List<PageModel>;
}

<form method="post">
  <input type="text" name="username" placeholder="gebruikersnaam" />
  <input type="password" name="password" />
  <input type="submit" value="login" />
</form>

@section menu{
  @if (subNav != null && subNav.Any())
  {
    <div class="menu">      
      <ul>        
        @foreach(PageModel item in subNav){
          
          string selected = "";
          if (item.Id == Model.Id) {
            selected = "selected";
          }
          
          <li class="@selected">            
            <a href="@item.Url">@item.Title</a>
            @if (item.Id == Model.Id && item.SubPages.Any())
            {
              <ul class="subNav">
                @foreach (PageModel subItem in item.SubPages)
                 {
                   <li><a href="@subItem.Url">@subItem.Title</a></li>
                 }
               </ul>
            }
          </li>
        }
    </ul>
  </div>   
}